"use strict";(self.webpackChunkfalcon_react=self.webpackChunkfalcon_react||[]).push([[885],{48885:function(e,n,a){a.r(n),a.d(n,{default:function(){return A}});var t=a(47313),r=a(58467),s=a(46123),i=a.n(s),c=a(29439),l=a(12153),o=a(63849),u=a(31616),m=a(40230),v=a(36287),d=a(6099),h=a(98738),f=a(13853),x=a(88815),p=a(2135),g=a(75192),j=a.n(g),b=a(46417),N=function(e){var n=e.route;return(0,b.jsx)(h.Z,{alignItems:"center",children:(0,b.jsxs)("span",{className:"nav-link-text ps-1",children:[(0,b.jsx)("input",{type:"checkbox",className:"mx-1"}),n.name||n.vehicle_reg_num||"Undefined"]})})},Z={active:j().bool,name:j().string,to:j().string,icon:j().oneOfType([j().array,j().string])};Z.children=j().arrayOf(j().shape(Z));var k=t.memo(N),C=a(34491),w=function(e){var n=e.route,a=(0,r.TH)().pathname,s=(0,t.useState)(n.vehicles.some((function e(n){return n.to===a||Object.prototype.hasOwnProperty.call(n,"vehicles")&&n.children.some(e)}))),o=(0,c.Z)(s,2),u=o[0],m=o[1];return(0,b.jsxs)(l.Z.Item,{as:"li",children:[(0,b.jsx)(l.Z.Link,{onClick:function(){m(!u)},className:i()("dropdown-indicator cursor-pointer",{"text-500":!n.active}),"aria-expanded":u,children:(0,b.jsx)(k,{route:n})}),(0,b.jsx)(x.Z,{in:u,children:(0,b.jsx)(l.Z,{className:"flex-column nav",as:"ul",children:(0,b.jsx)(y,{routes:n.vehicles,name:n.id})})})]})},y=function(e){var n=e.routes,a=e.name,r=(0,t.useContext)(d.ZP),s=r.config.showBurgerMenu,i=r.setConfig,c=function(){s&&i("showBurgerMenu",!s)};return n.map((function(e){return e.vehicles?(0,b.jsx)(w,{route:e},e.name):(0,b.jsx)(l.Z.Item,{as:"li",onClick:c,children:(0,b.jsx)(p.OL,{onClick:function(){return function(e,n){e.imei?i("currentVehicle",{vehicle:e.imei,vrn:e.vehicle_reg_num,school:n}):C.Am.error("Vehicle not associated with a tracking device")}(e,a)},className:function(n){return n.isActive&&"#!"!==e.to?"active nav-link":"nav-link"},children:(0,b.jsx)(k,{route:e})})},e.imei)}))},T=y,E=a(1413),I=a(95668),_=a(568),B=a(93298),L=function(e){return(0,b.jsx)(I.Z,(0,E.Z)((0,E.Z)({style:{position:"fixed"},id:"button-tooltip"},e),{},{children:"Toggle Navigation"}))},V=function(){var e=(0,t.useContext)(d.ZP),n=e.config,a=n.isNavbarVerticalCollapsed,r=n.isFluid,s=n.isRTL,i=e.setConfig;return(0,b.jsx)(_.Z,{placement:r?s?"bottom":"right":s?"bottom":"left",overlay:L,children:(0,b.jsx)("div",{className:"toggle-icon-wrapper",children:(0,b.jsx)(B.Z,{variant:"link",className:"navbar-toggler-humburger-icon navbar-vertical-toggle",id:"toggleNavigationTooltip",onClick:function(){document.getElementsByTagName("html")[0].classList.toggle("navbar-vertical-collapsed"),i("isNavbarVerticalCollapsed",!a)},children:(0,b.jsx)("span",{className:"navbar-toggle-icon",children:(0,b.jsx)("span",{className:"toggle-line"})})})})})},M=function(){var e=(0,t.useContext)(d.ZP).config,n=e.isNavbarVerticalCollapsed,a=e.showBurgerMenu,r=document.getElementsByTagName("html")[0].classList,s=(0,t.useState)([]),i=(0,c.Z)(s,2),x=i[0],p=i[1];(0,t.useEffect)((function(){fetch("https://sbms.elenageosys.com/user-management/map-vehicles/",{}).then((function(e){return e.json()})).then((function(e){return p(e)})).catch((function(e){return console.error(e)}))}),[]),(0,t.useEffect)((function(){return n?r.add("navbar-vertical-collapsed"):r.remove("navbar-vertical-collapsed"),function(){return r.remove("navbar-vertical-collapsed-hover")}}),[n,r]);var g=null,j=function(e){var n=e.label;return(0,b.jsx)(l.Z.Item,{as:"li",className:"mt-3",children:(0,b.jsxs)(o.Z,{className:"mt-3 mb-2 navbar-vertical-label-wrapper",children:[(0,b.jsx)(u.Z,{xs:"auto",className:"navbar-vertical-label navbar-vertical-label",children:n}),(0,b.jsx)(u.Z,{className:"ps-0",children:(0,b.jsx)("hr",{className:"mb-0 navbar-vertical-divider"})})]})})};return(0,b.jsxs)(m.Z,{expand:v.li,className:"navbar-vertical",variant:"light",children:[(0,b.jsxs)(h.Z,{alignItems:"center",children:[(0,b.jsx)(V,{}),(0,b.jsx)(f.Z,{at:"navbar-vertical",width:40})]}),(0,b.jsx)(m.Z.Collapse,{in:a,onMouseEnter:function(){n&&(g=setTimeout((function(){r.add("navbar-vertical-collapsed-hover")}),100))},onMouseLeave:function(){clearTimeout(g),r.remove("navbar-vertical-collapsed-hover")},children:(0,b.jsx)("div",{className:"navbar-vertical-content scrollbar",children:(0,b.jsx)(l.Z,{className:"flex-column",as:"ul",children:x.map((function(e){return(0,b.jsxs)(t.Fragment,{children:[(0,b.jsx)(j,{label:e.company_name}),(0,b.jsx)(T,{routes:e.schools}),(0,b.jsx)("hr",{})]},e.id)}))})})})]})},O=a(85901),P=function(){var e=(0,r.TH)(),n=e.hash,a=e.pathname,s=a.includes("kanban");return(0,t.useEffect)((function(){setTimeout((function(){if(n){var e=n.replace("#",""),a=document.getElementById(e);a&&a.scrollIntoView({block:"start",behavior:"smooth"})}}),0)}),[]),(0,t.useEffect)((function(){window.scrollTo(0,0)}),[a]),(0,b.jsxs)("div",{className:"container-fluid",children:[(0,b.jsx)(M,{}),(0,b.jsx)("div",{className:i()("content",{"pb-0":s}),children:(0,b.jsx)("div",{className:"mt-5",children:(0,b.jsx)(O.Z,{})})})]})},A=function(){return(0,b.jsx)(P,{})}}}]);