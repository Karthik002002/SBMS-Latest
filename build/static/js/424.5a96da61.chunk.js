"use strict";(self.webpackChunkfalcon_react=self.webpackChunkfalcon_react||[]).push([[424],{47424:function(e,t,a){a.d(t,{N:function(){return B}});var n=a(60279),i=a(91379),r=a(8491),l=a(40207),o=2*Math.PI,s=Math.PI/180;function g(e,t){return r.ME(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function c(e,t){var a=g(e,t),n=e.get("center"),r=e.get("radius");l.isArray(r)||(r=[0,r]);var o,s,c=(0,i.GM)(a.width,t.getWidth()),u=(0,i.GM)(a.height,t.getHeight()),h=Math.min(c,u),d=(0,i.GM)(r[0],h/2),p=(0,i.GM)(r[1],h/2),f=e.coordinateSystem;if(f){var y=f.dataToPoint(n);o=y[0]||0,s=y[1]||0}else l.isArray(n)||(n=[n,n]),o=(0,i.GM)(n[0],c)+a.x,s=(0,i.GM)(n[1],u)+a.y;return{cx:o,cy:s,r0:d,r:p}}function u(e,t,a){t.eachSeriesByType(e,(function(e){var t=e.getData(),n=t.mapDimension("value"),r=g(e,a),l=c(e,a),u=l.cx,h=l.cy,d=l.r,p=l.r0,f=-e.get("startAngle")*s,y=e.get("minAngle")*s,m=0;t.each(n,(function(e){!isNaN(e)&&m++}));var v=t.getSum(n),b=Math.PI/(v||m)*2,x=e.get("clockwise"),A=e.get("roseType"),S=e.get("stillShowZeroSum"),M=t.getDataExtent(n);M[0]=0;var w=o,D=0,L=f,T=x?1:-1;if(t.setLayout({viewRect:r,r:d}),t.each(n,(function(e,a){var n;if(isNaN(e))t.setItemLayout(a,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:x,cx:u,cy:h,r0:p,r:A?NaN:d});else{(n="area"!==A?0===v&&S?b:e*b:o/m)<y?(n=y,w-=y):D+=e;var r=L+T*n;t.setItemLayout(a,{angle:n,startAngle:L,endAngle:r,clockwise:x,cx:u,cy:h,r0:p,r:A?(0,i.NU)(e,M,[p,d]):d}),L=r}})),w<o&&m)if(w<=.001){var N=o/m;t.each(n,(function(e,a){if(!isNaN(e)){var n=t.getItemLayout(a);n.angle=N,n.startAngle=f+T*a*N,n.endAngle=f+T*(a+1)*N}}))}else b=w/D,L=f,t.each(n,(function(e,a){if(!isNaN(e)){var n=t.getItemLayout(a),i=n.angle===y?y:e*b;n.startAngle=L,n.endAngle=L+T*i,L+=T*i}}))}))}var h=a(40126),d=a(56271),p=a(56075),f=a(32094),y=a(40202),m=a(85719),v=a(42179),b=a(20299),x=a(73257),A=a(38131),S=Math.PI/180;function M(e,t,a,n,i,r,l,o,s,g){if(!(e.length<2)){for(var c=e.length,u=0;u<c;u++)if("outer"===e[u].position&&"labelLine"===e[u].labelAlignTo){var h=e[u].label.x-g;e[u].linePoints[1][0]+=h,e[u].label.x=g}(0,A.GI)(e,s,s+l)&&function(e){for(var r={list:[],maxY:0},l={list:[],maxY:0},o=0;o<e.length;o++)if("none"===e[o].labelAlignTo){var s=e[o],g=s.label.y>a?l:r,c=Math.abs(s.label.y-a);if(c>=g.maxY){var u=s.label.x-t-s.len2*i,h=n+s.len,p=Math.abs(u)<h?Math.sqrt(c*c/(1-u*u/h/h)):h;g.rB=p,g.maxY=c}g.list.push(s)}d(r),d(l)}(e)}function d(e){for(var r=e.rB,l=r*r,o=0;o<e.list.length;o++){var s=e.list[o],g=Math.abs(s.label.y-a),c=n+s.len,u=c*c,h=Math.sqrt((1-Math.abs(g*g/l))*u),d=t+(h+s.len2)*i,p=d-s.label.x;w(s,s.targetTextWidth-p*i,!0),s.label.x=d}}}function w(e,t,a){if(void 0===a&&(a=!1),null==e.labelStyleWidth){var n=e.label,i=n.style,r=e.rect,l=i.backgroundColor,o=i.padding,s=o?o[1]+o[3]:0,g=i.overflow,c=r.width+(l?0:s);if(t<c||a){var u=r.height;if(g&&g.match("break")){n.setStyle("backgroundColor",null),n.setStyle("width",t-s);var h=n.getBoundingRect();n.setStyle("width",Math.ceil(h.width)),n.setStyle("backgroundColor",l)}else{var d=t-s,p=t<c?d:a?d>e.unconstrainedWidth?null:d:null;n.setStyle("width",p)}var f=n.getBoundingRect();r.width=f.width;var y=(n.style.margin||0)+2.1;r.height=f.height+y,r.y-=(r.height-u)/2}}}function D(e){return"center"===e.position}function L(e){var t,a,n=e.getData(),r=[],o=!1,s=(e.get("minShowLabelAngle")||0)*S,g=n.getLayout("viewRect"),c=n.getLayout("r"),u=g.width,h=g.x,d=g.y,p=g.height;function f(e){e.ignore=!0}n.each((function(e){var g=n.getItemGraphicEl(e),d=g.shape,p=g.getTextContent(),y=g.getTextGuideLine(),m=n.getItemModel(e),v=m.getModel("label"),x=v.get("position")||m.get(["emphasis","label","position"]),A=v.get("distanceToLabelLine"),S=v.get("alignTo"),M=(0,i.GM)(v.get("edgeDistance"),u),w=v.get("bleedMargin"),D=m.getModel("labelLine"),L=D.get("length");L=(0,i.GM)(L,u);var T=D.get("length2");if(T=(0,i.GM)(T,u),Math.abs(d.endAngle-d.startAngle)<s)return(0,l.each)(p.states,f),p.ignore=!0,void(y&&((0,l.each)(y.states,f),y.ignore=!0));if(function(e){if(!e.ignore)return!0;for(var t in e.states)if(!1===e.states[t].ignore)return!0;return!1}(p)){var N,I,C,P,_=(d.startAngle+d.endAngle)/2,G=Math.cos(_),k=Math.sin(_);t=d.cx,a=d.cy;var E="inside"===x||"inner"===x;if("center"===x)N=d.cx,I=d.cy,P="center";else{var Z=(E?(d.r+d.r0)/2*G:d.r*G)+t,O=(E?(d.r+d.r0)/2*k:d.r*k)+a;if(N=Z+3*G,I=O+3*k,!E){var W=Z+G*(L+c-d.r),V=O+k*(L+c-d.r),R=W+(G<0?-1:1)*T;N="edge"===S?G<0?h+M:h+u-M:R+(G<0?-A:A),I=V,C=[[Z,O],[W,V],[R,V]]}P=E?"center":"edge"===S?G>0?"right":"left":G>0?"left":"right"}var B=Math.PI,U=0,Y=v.get("rotate");if((0,l.isNumber)(Y))U=Y*(B/180);else if("center"===x)U=0;else if("radial"===Y||!0===Y){U=G<0?-_+B:-_}else if("tangential"===Y&&"outside"!==x&&"outer"!==x){var z=Math.atan2(G,k);z<0&&(z=2*B+z),k>0&&(z=B+z),U=z-B}if(o=!!U,p.x=N,p.y=I,p.rotation=U,p.setStyle({verticalAlign:"middle"}),E){p.setStyle({align:P});var X=p.states.select;X&&(X.x+=p.x,X.y+=p.y)}else{var q=p.getBoundingRect().clone();q.applyTransform(p.getComputedTransform());var H=(p.style.margin||0)+2.1;q.y-=H/2,q.height+=H,r.push({label:p,labelLine:y,position:x,len:L,len2:T,minTurnAngle:D.get("minTurnAngle"),maxSurfaceAngle:D.get("maxSurfaceAngle"),surfaceNormal:new b.Z(G,k),linePoints:C,textAlign:P,labelDistance:A,labelAlignTo:S,edgeDistance:M,bleedMargin:w,rect:q,unconstrainedWidth:q.width,labelStyleWidth:p.style.width})}g.setTextConfig({inside:E})}})),!o&&e.get("avoidLabelOverlap")&&function(e,t,a,n,i,r,l,o){for(var s=[],g=[],c=Number.MAX_VALUE,u=-Number.MAX_VALUE,h=0;h<e.length;h++){var d=e[h].label;D(e[h])||(d.x<t?(c=Math.min(c,d.x),s.push(e[h])):(u=Math.max(u,d.x),g.push(e[h])))}for(h=0;h<e.length;h++)if(!D(y=e[h])&&y.linePoints){if(null!=y.labelStyleWidth)continue;d=y.label;var p=y.linePoints,f=void 0;f="edge"===y.labelAlignTo?d.x<t?p[2][0]-y.labelDistance-l-y.edgeDistance:l+i-y.edgeDistance-p[2][0]-y.labelDistance:"labelLine"===y.labelAlignTo?d.x<t?c-l-y.bleedMargin:l+i-u-y.bleedMargin:d.x<t?d.x-l-y.bleedMargin:l+i-d.x-y.bleedMargin,y.targetTextWidth=f,w(y,f)}for(M(g,t,a,n,1,0,r,0,o,u),M(s,t,a,n,-1,0,r,0,o,c),h=0;h<e.length;h++){var y;if(!D(y=e[h])&&y.linePoints){d=y.label,p=y.linePoints;var m="edge"===y.labelAlignTo,v=d.style.padding,b=v?v[1]+v[3]:0,x=d.style.backgroundColor?0:b,A=y.rect.width+x,S=p[1][0]-p[2][0];m?d.x<t?p[2][0]=l+y.edgeDistance+A+y.labelDistance:p[2][0]=l+i-y.edgeDistance-A-y.labelDistance:(d.x<t?p[2][0]=d.x+y.labelDistance:p[2][0]=d.x-y.labelDistance,p[1][0]=p[2][0]+S),p[1][1]=p[2][1]=d.y}}}(r,t,a,c,u,p,h,d);for(var y=0;y<r.length;y++){var m=r[y],v=m.label,A=m.labelLine,L=isNaN(v.x)||isNaN(v.y);if(v){v.setStyle({align:m.textAlign}),L&&((0,l.each)(v.states,f),v.ignore=!0);var T=v.states.select;T&&(T.x+=v.x,T.y+=v.y)}if(A){var N=m.linePoints;L||!N?((0,l.each)(A.states,f),A.ignore=!0):((0,x.qK)(N,m.minTurnAngle),(0,x._A)(N,m.surfaceNormal,m.maxSurfaceAngle),A.setShape({points:N}),v.__hostTarget.textGuideLineConfig={anchor:new b.Z(N[0][0],N[0][1])})}}}var T=a(7408),N=a(41486),I=function(e){function t(t,a,n){var i=e.call(this)||this;i.z2=2;var r=new d.ZP;return i.setTextContent(r),i.updateData(t,a,n,!0),i}return(0,h.ZT)(t,e),t.prototype.updateData=function(e,t,a,n){var i=this,r=e.hostModel,o=e.getItemModel(t),s=o.getModel("emphasis"),g=e.getItemLayout(t),c=(0,l.extend)((0,N.T)(o.getModel("itemStyle"),g,!0),g);if(isNaN(c.startAngle))i.setShape(c);else{if(n){i.setShape(c);var u=r.getShallow("animationType");r.ecModel.ssr?(p.KZ(i,{scaleX:0,scaleY:0},r,{dataIndex:t,isFrom:!0}),i.originX=c.cx,i.originY=c.cy):"scale"===u?(i.shape.r=g.r0,p.KZ(i,{shape:{r:g.r}},r,t)):null!=a?(i.setShape({startAngle:a,endAngle:a}),p.KZ(i,{shape:{startAngle:g.startAngle,endAngle:g.endAngle}},r,t)):(i.shape.endAngle=g.startAngle,p.D(i,{shape:{endAngle:g.endAngle}},r,t))}else(0,p.Zi)(i),p.D(i,{shape:c},r,t);i.useStyle(e.getItemVisual(t,"style")),(0,m.WO)(i,o);var h=(g.startAngle+g.endAngle)/2,d=r.get("selectedOffset"),f=Math.cos(h)*d,y=Math.sin(h)*d,v=o.getShallow("cursor");v&&i.attr("cursor",v),this._updateLabel(r,e,t),i.ensureState("emphasis").shape=(0,l.extend)({r:g.r+(s.get("scale")&&s.get("scaleSize")||0)},(0,N.T)(s.getModel("itemStyle"),g)),(0,l.extend)(i.ensureState("select"),{x:f,y:y,shape:(0,N.T)(o.getModel(["select","itemStyle"]),g)}),(0,l.extend)(i.ensureState("blur"),{shape:(0,N.T)(o.getModel(["blur","itemStyle"]),g)});var b=i.getTextGuideLine(),x=i.getTextContent();b&&(0,l.extend)(b.ensureState("select"),{x:f,y:y}),(0,l.extend)(x.ensureState("select"),{x:f,y:y}),(0,m.k5)(this,s.get("focus"),s.get("blurScope"),s.get("disabled"))}},t.prototype._updateLabel=function(e,t,a){var n=this,i=t.getItemModel(a),r=i.getModel("labelLine"),o=t.getItemVisual(a,"style"),s=o&&o.fill,g=o&&o.opacity;(0,T.ni)(n,(0,T.k3)(i),{labelFetcher:t.hostModel,labelDataIndex:a,inheritColor:s,defaultOpacity:g,defaultText:e.getFormattedLabel(a,"normal")||t.getName(a)});var c=n.getTextContent();n.setTextConfig({position:null,rotation:null}),c.attr({z2:10});var u=e.get(["label","position"]);if("outside"!==u&&"outer"!==u)n.removeTextGuideLine();else{var h=this.getTextGuideLine();h||(h=new f.Z,this.setTextGuideLine(h)),(0,x.Iu)(this,(0,x.$x)(i),{stroke:s,opacity:(0,l.retrieve3)(r.get(["lineStyle","opacity"]),g,1)})}},t}(y.C),C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return(0,h.ZT)(t,e),t.prototype.render=function(e,t,a,n){var i,r=e.getData(),l=this._data,o=this.group;if(!l&&r.count()>0){for(var s=r.getItemLayout(0),g=1;isNaN(s&&s.startAngle)&&g<r.count();++g)s=r.getItemLayout(g);s&&(i=s.startAngle)}if(this._emptyCircleSector&&o.remove(this._emptyCircleSector),0===r.count()&&e.get("showEmptyCircle")){var u=new y.C({shape:c(e,a)});u.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=u,o.add(u)}r.diff(l).add((function(e){var t=new I(r,e,i);r.setItemGraphicEl(e,t),o.add(t)})).update((function(e,t){var a=l.getItemGraphicEl(t);a.updateData(r,e,i),a.off("click"),o.add(a),r.setItemGraphicEl(e,a)})).remove((function(t){var a=l.getItemGraphicEl(t);p.XD(a,e,t)})).execute(),L(e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=r)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,t){var a=t.getData().getItemLayout(0);if(a){var n=e[0]-a.cx,i=e[1]-a.cy,r=Math.sqrt(n*n+i*i);return r<=a.r&&r>=a.r0}},t.type="pie",t}(v.Z),P=C,_=a(48612),G=a(72067);var k=a(58352),E=a(39871),Z=function(){function e(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return e.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},e.prototype.containName=function(e){return this._getRawData().indexOfName(e)>=0},e.prototype.indexOfName=function(e){return this._getDataWithEncodedVisual().indexOfName(e)},e.prototype.getItemVisual=function(e,t){return this._getDataWithEncodedVisual().getItemVisual(e,t)},e}(),O=a(26569),W=k.Yf(),V=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,h.ZT)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new Z(l.bind(this.getData,this),l.bind(this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return function(e,t,a){t=(0,l.isArray)(t)&&{coordDimensions:t}||(0,l.extend)({encodeDefine:e.getEncode()},t);var n=e.getSource(),i=(0,_.Z)(n,t).dimensions,r=new G.Z(i,e);return r.initData(n,a),r}(this,{coordDimensions:["value"],encodeDefaulter:l.curry(E.Ss,this)})},t.prototype.getDataParams=function(t){var a=this.getData(),n=W(a),r=n.seats;if(!r){var l=[];a.each(a.mapDimension("value"),(function(e){l.push(e)})),r=n.seats=(0,i.HD)(l,a.hostModel.get("percentPrecision"))}var o=e.prototype.getDataParams.call(this,t);return o.percent=r[t]||0,o.$vars.push("percent"),o},t.prototype._defaultLabelLine=function(e){k.Cc(e,"labelLine",["show"]);var t=e.labelLine,a=e.emphasis.labelLine;t.show=t.show&&e.label.show,a.show=a.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(O.Z),R=V;function B(e){e.registerChartView(P),e.registerSeriesModel(R),(0,n.y)("pie",e.registerAction),e.registerLayout((0,l.curry)(u,"pie")),e.registerProcessor({seriesType:"pie",reset:function(e,t){var a=t.findComponents({mainType:"legend"});if(a&&a.length){var n=e.getData();n.filterSelf((function(e){for(var t=n.getName(e),i=0;i<a.length;i++)if(!a[i].isSelected(t))return!1;return!0}))}}}),e.registerProcessor(function(e){return{seriesType:e,reset:function(e,t){var a=e.getData();a.filterSelf((function(e){var t=a.mapDimension("value"),n=a.get(t,e);return!((0,l.isNumber)(n)&&!isNaN(n)&&n<0)}))}}}("pie"))}}}]);